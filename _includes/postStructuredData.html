<script type="application/ld+json">
{  
   "@context":"http://schema.org",
   "@type":"BlogPosting",
   "headline":"{{ post.title }}",
   {% if post.content %}
   "wordCount": {{ post.content | strip_html | number_of_words }},
   {% endif %}
   "url":"{{ post.link | absolute_url }}",
   "datePublished":"{{ post.date | | date: '%Y-%m-%d' }}",
   "dateModified":"{{ post.date | | date: '%Y-%m-%d' }}",
   "author": {% include authorStructuredData.html %},
   "publisher": {% include publisherStructuredData.html %},
   "image": "{% if post.image %}https://ansonliu.com{{ post.image.path }}{% else %}https://avatars1.githubusercontent.com/ansonl?v=3&s=200{% endif %}{{ post.image }}",
   "mainEntityOfPage":{  
      "@type":"WebPage",
      "@id":"{{ post.link | absolute_url }}"
   },
   "description": "{% if post.excerpt %}{{ post.excerpt strip_html | xml_escape | normalize_whitepace | strip }}{% else %}{{ post.content | strip_html | xml_escape | normalize_whitepace | strip | truncate: 200 }}{% endif %}"
   
}
</script>
